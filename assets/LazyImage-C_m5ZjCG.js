import{j as e}from"./index-BXJgdr3F.js";import{r as a}from"./toastify-Dc1Vn22b.js";const s=({src:s,alt:t,className:r,placeholder:i,width:n=800,height:c=600,...l})=>{const[o,d]=a.useState(!1),[m,u]=a.useState(!1),[g,h]=a.useState(!1),x=a.useRef(null);a.useEffect(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(u(!0),e.disconnect())},{threshold:.1});return x.current&&e.observe(x.current),()=>e.disconnect()},[]);const y=t||"Image";return e.jsxs("div",{ref:x,className:`relative ${r}`,style:{aspectRatio:`${n}/${c}`},...l,children:[!o&&e.jsx("div",{className:`absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center ${r}`,children:i?e.jsx("span",{className:"text-gray-400 text-sm","aria-label":"Loading image",children:i}):e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin","aria-label":"Loading"})}),g&&e.jsx("div",{className:`flex items-center justify-center bg-gray-100 text-gray-500 ${r}`,children:e.jsx("span",{className:"text-sm",children:"Image unavailable"})}),m&&!g&&e.jsx("img",{src:s,alt:y,width:n,height:c,className:`transition-opacity duration-300 w-full h-auto ${o?"opacity-100":"opacity-0"} ${r}`,onLoad:()=>{d(!0)},onError:()=>{h(!0),d(!0)},loading:"lazy",decoding:"async"})]})};export{s as L};
