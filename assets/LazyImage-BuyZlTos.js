import{j as e}from"./index-Cu8-I95u.js";import{r as a}from"./toastify-C1UWJbQi.js";const t=({src:t,alt:r,className:s,placeholder:i,width:l=800,height:n=600,...o})=>{const[c,d]=a.useState(!1),[m,g]=a.useState(!1),[h,y]=a.useState(!1),u=a.useRef(null);a.useEffect(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(g(!0),e.disconnect())},{threshold:.1});return u.current&&e.observe(u.current),()=>e.disconnect()},[]);const p=r||"Image";return e.jsxs("div",{ref:u,className:`relative ${s}`,style:{aspectRatio:`${l}/${n}`},...o,children:[!c&&e.jsx("div",{className:`absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center ${s}`,children:i?e.jsx("span",{className:"text-gray-400 text-sm","aria-label":"Loading image",children:i}):e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin","aria-label":"Loading"})}),h&&e.jsx("div",{className:`flex items-center justify-center bg-gray-100 text-gray-500 ${s}`,children:e.jsx("span",{className:"text-sm",children:"Image unavailable"})}),m&&!h&&e.jsx("img",{src:t,alt:p,width:l,height:n,className:`transition-opacity duration-300 w-full h-auto ${c?"opacity-100":"opacity-0"} ${s}`,onLoad:()=>{d(!0)},onError:()=>{y(!0),d(!0)},loading:"lazy",decoding:"async"})]})};export{t as L};
