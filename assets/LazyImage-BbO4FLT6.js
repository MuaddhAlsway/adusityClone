import{j as e}from"./index-BZpAqHbU.js";import{r as a}from"./toastify-DNQ62-iq.js";const s=({src:s,alt:t,className:r,placeholder:n,...i})=>{const[c,l]=a.useState(!1),[o,d]=a.useState(!1),[m,u]=a.useState(!1),g=a.useRef(null);a.useEffect(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(d(!0),e.disconnect())},{threshold:.1});return g.current&&e.observe(g.current),()=>e.disconnect()},[]);const x=t||"Image";return e.jsxs("div",{ref:g,className:`relative ${r}`,...i,children:[!c&&e.jsx("div",{className:`absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center ${r}`,children:n?e.jsx("span",{className:"text-gray-400 text-sm","aria-label":"Loading image",children:n}):e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin","aria-label":"Loading"})}),m&&e.jsx("div",{className:`flex items-center justify-center bg-gray-100 text-gray-500 ${r}`,children:e.jsx("span",{className:"text-sm",children:"Image unavailable"})}),o&&!m&&e.jsx("img",{src:s,alt:x,className:`transition-opacity duration-300 ${c?"opacity-100":"opacity-0"} ${r}`,onLoad:()=>{l(!0)},onError:()=>{u(!0),l(!0)},loading:"lazy",decoding:"async"})]})};export{s as L};
